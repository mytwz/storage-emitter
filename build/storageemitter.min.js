!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("StorageEmitter",[],e):"object"==typeof exports?exports.StorageEmitter=e():t.StorageEmitter=e()}(self,(function(){return(()=>{"use strict";var t={};return{991:function(t,e){var r=this&&this.__spreadArray||function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t};Object.defineProperty(e,"__esModule",{value:!0});var n="emitter&",o={};function i(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=o[t];if(n)for(var i=0,f=(n=n.slice(0)).length;i<f;++i)n[i].apply(this,e)}var f=function(){function t(){var t=this;window.addEventListener("storage",(function(e){var n=e.key+"",o=e.newValue+"";if(/^emitter&/.test(n)&&/^\[.*]$/.test(o)){try{var f=n.replace(/^emitter&/,""),a=JSON.parse(o);i.call.apply(i,r([t,f],a))}catch(t){}localStorage.setItem(n,Date.now()+"")}}),!0)}return t.prototype.on=function(t,e){return(o[t]=o[t]||[]).push(e),this},t.prototype.off=function(t,e){var r=o[t];if(!r)return this;if(!e)return delete o[t],this;for(var n={},i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},t.prototype.offall=function(){return o={},this},t.prototype.once=function(t,e){var r=this;function n(){r.off(t),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},t.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return localStorage.setItem(n+t,JSON.stringify(e)),this},t.prototype.emits=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return i.call.apply(i,r([this,t],e)),localStorage.setItem(n+t,JSON.stringify(e)),this},t}();e.default=new f}}[991](0,t),t.default})()}));
//# sourceMappingURL=storageemitter.min.js.map