!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("StorageEmitter",[],e):"object"==typeof exports?exports.StorageEmitter=e():t.StorageEmitter=e()}(self,(function(){return(()=>{"use strict";var t={};return{991:function(t,e){var r=this&&this.__spreadArray||function(t,e){for(var r=0,o=e.length,n=t.length;r<o;r++,n++)t[n]=e[r];return t};Object.defineProperty(e,"__esModule",{value:!0});var o="emitter&",n={};function i(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var o=n[t];if(o)for(var i=0,f=(o=o.slice(0)).length;i<f;++i)o[i].apply(this,e)}var f=function(){function t(){var t=this;window.addEventListener("storage",(function(e){var o=e.key+"",n=e.newValue+"";if(/^emitter&/.test(o)&&/^\[.*]$/.test(n))try{var f=o.replace(/^emitter&/,""),a=JSON.parse(n);i.call.apply(i,r([t,f],a))}catch(t){}}),!0)}return t.prototype.on=function(t,e){return(n[t]=n[t]||[]).push(e),this},t.prototype.off=function(t,e){var r=n[t];if(!r)return this;if(!e)return delete n[t],this;for(var o={},i=0;i<r.length;i++)if((o=r[i])===e||o.fn===e){r.splice(i,1);break}return this},t.prototype.offall=function(){return n={},this},t.prototype.once=function(t,e){var r=this;function o(){r.off(t),e.apply(this,arguments)}return o.fn=e,this.on(t,o),this},t.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return localStorage.setItem(o+t,JSON.stringify(e)),localStorage.removeItem(o+t),this},t.prototype.emits=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return localStorage.setItem(o+t,JSON.stringify(e)),localStorage.removeItem(o+t),i.call.apply(i,r([this,t],e)),this},t}();e.default=new f}}[991](0,t),t.default})()}));
//# sourceMappingURL=storageemitter-js.min.js.map